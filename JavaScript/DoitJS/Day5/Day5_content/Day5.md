# 6. 여러 자료를 한꺼번에 담는 객체

## 객체란?

하나의 변수에 다양한 정보를 담기 위해 사용하는 자료형이 객체이다. 자바스크립트를 사용해 웹 사이트나 애플리케이션의 자료를 다루려면 하나의 변수에 여러 정보를 저장할 수 있는 객체가 꼭 필요하다.

```javascript
var book = {
    title: "자바스크립트",
    author: "홍길동",
    pages: 500,
    price: 15000
}
```

#### 자바스크립트에서 객체의 종류

##### -내장 객체

자바스크립트 프로그래밍을 할 때 자주 사용하는 요소는 미리 객체로 정의되어 있다. 이런 객체를 **'내장 객체'**라고 한다. 예를 들어 날짜나 시간과 관련된 프로그램을 작성할 때는 Date 객체를 사용해 현재 시각을 알아내고 그 정보를 손쉽게 가져다 사용할 수 있다. 자바스크립트에는 Number, Boolean, Array, Math 등 많은 내장 객체가 들어 있다.

##### -문서 객체 모델(DOM)

객체를 사용해 웹 문서를 관리하는 방식을 **'문서 객체 모델(DOM)'** 이라고 한다. 문서 객체 모델에서는 웹 문서뿐만 아니라 웹 문서 안에 포함된 이미지, 링크, 텍스트 필드 등도 모두 각각 별도의 객체로 미리 만들어 놓았다. 

##### -브라우저 객체 모델

웹 문서를 관리하는 것이 문서 객체 모델이라면 웹 브라우저의 주소 표시줄이나 창 크기 등 웹 브라우저 정보를 객체로 다루는 것이 **'브라우저 객체 모델'** 이다. 브라우저 객체 모델에는 사용 중인 브라우저 종류나 버전을 담고 있는 Navigator 객체, 브라우저에서 방문한 기록을 남기는 History 객체, 주소 표시줄 정보를 담고 있는 Location 객체, 화면 크기 정보가 들어있는 Screen 객체 등이 있다. 이들 객체를 사용하면 알림 창을 표시할 수도 있고, 사용자 동작에 따라 원하는 사이트로 이동하도록 지정할 수도 있다.

##### -사용자 정의 객체

내장 객체 뿐만 아니라 사용자가 필요할 때마다 자신의 객체를 정의해서 사용할 수 있다. 여러 정보를 하나로 묶어 사용해야 할 때 사용자가 직접 객체를 만들 수 있다. 

'자바스크립트는 모든 것이 객체'라는 말이 있을 정도로 자바스크립트에서 객체는 중요한 개념이다.

#### 객체의 속성과 메서드 알아보기

객체에서 값을 담고 있는 정보를 **'속성(property)'** 라고 부른다. 속성은 내장 객체에도 만들어져 있다. 객체의 속성 값을 가져올 때는 객체 이름 뒤에 마침표(.)를 찍고 그 뒤에 속성 이름을 적는다.

객체에는 속성 말고도 **'메서드'** 라는 중요한 개념이 있다. 메서드는 객체가 어떻게 동작할지를 선언해 놓은 함수이다. 예를 들어 Window 객체 안에는 웹 브라우저 창과 관련된 여러 메서드가 미리 만들어져 있다. 즉, 메서드는 객체 안에 정의된 함수를 말한다.

- Window 객체는 모든 객체를 품고 있는 최상위 객체이기 때문에 Window 객체의 함수를 실행할 때는 Window와 마침표를 빼고 함수 이름만 사용해서 실행해도 된다.

#### 객체의 프로토타입과 인스턴스 소개

웹 문서에 있는 요소를 프로그램에서 사용하려면 객체 형태여야 한다. 예를 들어 웹 문서에 있는 이미지를 자바스크립트에서 다룰 때는 Image 객체를 사용한다. Image 객체는 모든 웹 이미지가 공통으로 가지는 속성과 기능을 모아 놓은 것이다. 웹 이미지를 만들기 위한 기본 틀이라고 볼 수 있다. 이런 틀을 **'프로토타입'** 이라고 한다. 이러한 프로토타입을 사용해 만들어낸 객체는 **'인스턴스'** 라고 한다.

#### 객체의 인스턴스 만들기

객체의 인스턴스를 만들 때, 즉 객체를 똑같이 찍어 새 객체를 만들 때는 new 예약어를 사용한다. new 예약어 뒤에 프로토타입 객체 이름과 괄호()를 써 주면 된다.

예를 들면, 자바스크립트에서 날짜나 시간 정보는 Date 객체에 저장하고 관리한다. 그래서 날짜나 시간 관련 프로그램을 작성하려면 가장 먼저 Date 객체의 인스턴스를 만들고, 그 인스턴스를 변수에 저장한 뒤 프로그램에서 사용한다.

```javascript
var now = new Date();
```

now는 이제 Date 객체의 인스턴스이므로, Date 객체에서 정의한 속성과 함수를 모두 사용할 수 있다.

#### 내장 객체로 무작위 수 프로그램 만들기

자바스크립트의 Math 객체는 삼각 함수나 로그 함수를 비롯한 수학 연산 함수를 가지고 있는 내장 객체이다.

##### -Math 객체와 관련된 여러 함수

|   함수   |                             설명                             |
| :------: | :----------------------------------------------------------: |
|  abs(x)  |                  숫자의 절댓값을 반환한다.                   |
| cbrt(x)  |                 숫자의 세제곱근을 반환한다.                  |
| ceil(x)  | 인수보다 크거나 같은 수 중에서 가장 작은 정수를 반환한다.(숫자의 소수점 이하를 올린다) |
| floor(x) | 인수보다 작거나 같은 수 중에서 가장 큰 정수를 반환한다.(숫자의 소수점 이하를 버린다) |
| random() |           0과 1 사이의 무작위 수(난수)를 반환한다.           |
| round(x) | 숫자에서 가장 가까운 정수를 반환한다.(숫자의 소수점 이하를 반올림한다) |

- Math 객체는 따로 객체의 인스턴스를 사용하지 않고 속성이나 함수를 사용한다. 그래서 대문자로 시작하는 객체 이름 뒤에 바로 속성이나 함수를 사용한다.

```javascript
// 1부터 50까지의 숫자 중 무작위 수를 만드는 소스
Math.floor(Math.random() * 50 +1);
```

## 사용자 정의 객체 만들기

사용자가 직접 만든 객체를 **'사용자 정의 객체'** 라고 한다. 자바스크립트에는 객체를 만드는 몇 가지 방법중에 객체 리터럴과 생성자 함수를 사용하는 방법을 많이 사용한다.

#### 리터럴 표기법을 사용해 객체를 만드는 방법

리터럴이란 프로그래밍에서 자료를 표기하는 방식을 말한다. 

객체 리터럴을 사용해 정의할 때는 중괄호 {} 안에 '속성 이름: 값'을 하나의 쌍으로 지정한다. 속성이 여러 개일 경우 '속성 이름: 값' 쌍마다 쉼표(,)를 넣어 구분한다. 함수 또한 '함수이름:' 다음에 함수를 정의하며, '함수이름: function(){...}' 형식을 사용한다.

```javascript
var book = {
    title: "자바스크립트",
    author: "고쌤",
    pages: 500,
    price: 15000,
    info: function(){
        alert(`${this.title}책의 분량은 ${this.pages}쪽입니다.`);
    }
};
```

객체에 새로운 속성을 추가할 수 있다. 위 예시를 사용하면 book 객체에 field 속성을 추가한 다음 원하는 값을 넣으면 된다.

```javascript
book.field = 'IT';
```

#### 생성자 함수를 사용해 객체를 만드는 방법

리터럴 표기법을 사용해 객체를 만드는 방법은 정해진 값을 가진 객체를 한 번만 만들어 낸다. 만약 이 방법으로 도서 관리 프로그램을 만든다면 매번 객체와 똑같은 속성과 함수를 입력하고, 책마다 그 값을 다르게 넣어 새롭게 객체를 만들어야 한다. 

이럴 때 항상 필요한 속성과 함수는 틀처럼 미리 만들어 두고, 필요할 때마다 그 틀을 복제한 인스턴스를 만들어 책 정보 값을 담는 것이 편리하다. 이때 **생성자 함수**를 사용해 객체를 만든다.

생성자 함수란 객체를 만들어 내는 함수를 말한다. 이 또한 함수이므로 function 예약어를 사용해 선언한다. 생성자 함수 안에 객체의 속성과 함수를 정의할 때는 this 예약어 다음에 마침표와 속성 이름을 입력한다. 여기에서 this가 가리키는 것은 선언하고 있는 객체 자체 이다. 객체의 속성은 객체에서 사용하는 변수, 객체의 함수는 해당 객체에서 사용하는 함수라고 생각하면 쉽다.

간단하게 Book 객체를 만들어 보자.

```javascript
function Book(author, pages, price, title) {
    this.author = author;
    this.pages = pages;
    this.price = price;
    this.title = title;
}
```

이렇게 Book 객체를 만들었다면 다음과 같이 인스턴스를 만들 수 있다.

```javascript
jsBook = new Book("홍길동", 500, 15000, "자바스크립트");

jsBook.title // "자바스크립트"
```

## Date 객체

#### Date 객체 간단히 알아보기

자바스크립트에는 날짜와 시간 정보를 다루는 Date 객체가 이미 내장되어 있다. 자바스크립트에서 Date 객체를 사용하려면 우선 Date 객체의 인스턴스를 만들어야 한다.

##### -현재 날짜 정보를 가지는 Date 객체 만들기

이 경우에는 간단히 new 예약어 다음에 Date 객체를 쓰면 된다.이렇게 만든 인스턴스에는 현재 날짜와 시간이 담긴다. 콘솔창을 열어 확인해보자

```javascript
new Date(); // Tue Jan 04 2022 16:19:50 GMT+0900 (한국 표준시)
```

##### -특정 날짜나 시간 정보를 가지는 Date 객체 만들기

특정 날짜를 저장한 Date 객체를 만들고 싶다면 Date 다음의 괄호 안에 날짜 정보를 입력한다. 예를 들어 '2018년 2월 25일' 날짜 정보를 객체에 저장한 후 프로그램에 사용하고 싶다면 다음과 같이 입력한다. 이렇게 만든 객체에는 지정한 날짜의 오전 9시 정보가 담긴다.

```javascript
new Date("2018-02-25"); // Sun Feb 25 2018 09:00:00 GMT+0900 (한국 표준시)
```

연도와 월까지만 지정했다면, 해당 월의 1일, 오전 9시로 설정된다.

```javascript
new Date("2018-02"); // Thu Feb 01 2018 09:00:00 GMT+0900 (한국 표준시)
```

시간 정보까지 함께 지정하려면 날짜 다음에 대문자 T를 추가한 후 시간을 입력한다.

```javascript
new Date("2018-02-25T18:00:00"); // Sun Feb 25 2018 18:00:00 GMT+0900 (한국 표준시)
```

UTC(국제 표준시)로 지정하려면 맨 끝에 Z를 붙인다. 다음 소스는 2018년 2월 25일 18:00:00에해당하는 객체를 선언하는 것인데 끝에 Z가 붙어 있어서 국제 표준시로 인식한다. 그래서 객체에 담기는 실제 시간은 한국 표준시로 바뀌어 9시간이 더해진다.

```javascript
new Date("2018-02-25T18:00:00Z"); // Mon Feb 26 2018 03:00:00 GMT+0900 (한국 표준시)
```

#### Date 객체의 주요 함수 알아두기

Date 객체는 날짜와 시간 정보를 가져오는 함수와 날짜와 시간을 원하는 값으로 설정하는 함수를 기본으로 가지고 있다.

함수 이름 앞에 get이나 set이 붙어 있는데, get은 '가져오다' 는 의미이고 set은 '두다, 설정하다' 는 의미이다. 

##### -날짜/시간 정보를 가져오는 함수

|     함수 이름     |                             설명                             |
| :---------------: | :----------------------------------------------------------: |
|   getFullYear()   |   날짜 정보에서 연도정보를 가져와 네 자리 숫자로 표시한다.   |
|    getMonth()     | 날짜 정보에서 월 정보를 가져온다. 이때 0~11의 숫자로 월을 표시한다. 0부터 1월이 시작되고 11은 12월이다. |
|     getDate()     |    날짜 정보에서 며칠인지 알 수 있는 일 정보를 가져온다.     |
|     getDay()      | 날짜 정보에서 요일 정보를 가져온다. 이때 요일 정보는 0~6의 숫자로 표시되는데, 0은 일요일에 해당되고 6은 토요일에 해당된다. |
|     getTime()     | 1970년 1월 1일 자정 이후의 시간을 밀리초로 표시한다. 밀리초는 1/1000초를 가리킨다. |
|    getHours()     |                 0~23의 숫자로 시를 표시한다.                 |
|   getMinutes()    |                 0~59의 숫자로 분을 표시한다.                 |
|   getSeconds()    |                 0~59의 숫자로 초를 표시한다.                 |
| getMilliseconds() |              0~999의 숫자로 밀리초를 표시한다.               |

##### -날짜/시간 정보를 설정하는 함수

|     함수 이름     |                             설명                             |
| :---------------: | :----------------------------------------------------------: |
|   setFullYear()   |               연도를 네 자리 숫자로 설정한다.                |
|    setMonth()     | 0~11의 숫자로 월을 표시한다. 0부터 1월이 시작되고 11은 12월이다. |
|     setDate()     |                 1~31의 숫자로 일을 설정한다.                 |
|     setTime()     |     1970년 1월 1일 자정 이후의 시간을 밀리초로 설정한다.     |
|    setHours()     |                 0~23의 숫자로 시를 설정한다.                 |
|   setMinutes()    |                 0~59의 숫자로 분을 설정한다.                 |
|   setSeconds()    |                 0~59의 숫자로 초를 설정한다.                 |
| setMilliseconds() |              0~999의 숫자로 밀리초를 설정한다.               |

Date 객체의 함수를 사용할 때 주의할 점은 getMonth() 함수와 getDay() 함수를 사용했을 때 결괏값이 0부터 시작된다는 점이다. 그래서 getMonth() 함수의 결괏값에 1을 더해야 실제 '월'에 해당하는 숫자를 얻을 수 있다.

#### 현재 날짜와 시간 정보 가져오기

콘솔 창에서 getDate() 함수와 getDay() 함수, getTime() 함수를 사용해서 현재 날짜와 시간 정보를 가져와보자.

우선 Date 객체의 인스턴스를 만들고 now 변수에 저장한다.

```javascript
var now = new Date();
now // Tue Jan 04 2022 17:04:37 GMT+0900 (한국 표준시)
```

now 객체에 있는 정보 중 날짜 정보만 가져온다면 getDate() 함수를 사용한다.

```javascript
now.getDate(); // 4
```

now 객체에서 요일 정보를 가져오겠다면 getDay() 함수를 사용한다. 이 때 요일 정보가 0에서 6 사이의 값으로 표현된다는 것을 잊으면 안된다.

```javascript
now.getDay(); // 2 (화요일)
```

getTime() 함수를 사용하면 now 객체의 시간 정보를 표시한다. 이는 1970년 1월 1일 00:00을 기준으로 now 객체의 시간까지 시간이 얼마나 흘렀는지를 밀리초로 나타낸 것이다. 이렇게 값을 표시하면 특정 날짜로부터 며칠 후 혹은 며칠 전처럼 시간의 흐름을 계산할 때 편리하게 사용할 수 있다.

```javascript
now.getTime(); // 1641283477253
```

그렇다면 오늘 날짜로부터 50일이 지난 후의 날짜를 계산하는 방법을 알아보자.

먼저, now.getDate()로 오늘 날짜를 알아낸 후 그 값에 50을 더한다. 그리고 now.setDate()를 통해 그 값을 날짜 정보로 다시 바꾼다. 그러면 그 결괏값이 밀리초로 나타난다. 이제 계산 결과가 날짜 정보로 잘 반영되었는지 확인하기 위해 now 객체를 확인해본다.

```javascript
now.setDate(now.getDate()+50); // 1645603477253
now // Wed Feb 23 2022 17:04:37 GMT+0900 (한국 표준시)
```

##### *자바스크립트 시간 단위

자바스크립트에서 시간 정보를 다르다 보면 여러 단위를 만나게 되는데 다음과 같이 변환할 수 있다.

- 1밀리초 = 1/1000초

1초 = 1000밀리초

1분 = 60초 (60 * 1,000 = 60,000밀리초)

1시간 = 60분 (60 * 60 * 1,000 = 3,600,000밀리초)

1일 = 24시간 (24 * 60 * 60 * 1,000 = 86,400,000밀리초)

## QUIZ

1. 객체 리터럴 표기법을 사용해 주어진 결과 화면과 소스를 참고해서 member1 객체를 선언하세요.
2. 프롬프트 창에서 반지름 값을 입력 받아 변수 r에 저장하는 소스가 있다. 생성자 함수를 사용해서 변수 r에 있는 반지름 값을 매개변수로 하는 Circle 객체를 만들어 보세요. Circle 객체 안에 원의 둘레와 원의 넓이를 계산하는 함수도 함께 선언하세요. 그리고 Circle 객체의 인스턴스를 만들어 직접 변수 r에 값을 입력했을 때 원의 둘레와 넓이가 계산되어 나오는지 확인하세요.
