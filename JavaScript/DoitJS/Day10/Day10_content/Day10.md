# 10. 웹 브라우저를 다루는 방법, 브라우저 객체 모델

## 브라우저 객체 모델이란?

웹 브라우저 전체를 객체로 관리하는 것을 브라우저 객체 모델이라고 한다. **브라우저 객체 모델은 자바스크립트 프로그램을 통해 브라우저 창을 관리할 수 있도록 브라우저 요소를 객체화해 놓은 것을 가리킨다.**

브라우저 창이 열리면 가장 먼저 Window 객체가 만들어지고, 그 하위에 브라우저 각 요소에 해당하는 객체가 만들어진다. 이들 하위 객체는 웹 문서와 주소 표시줄처럼 브라우저의 각 요소에 해당하는 객체이며 각각 또 다른 하위 객체를 가지고 있다.

다음은 자주 사용하는 브라우저 내장 객체이다.

|   객체    |                             설명                             |
| :-------: | :----------------------------------------------------------: |
|  Window   | 브라우저 창이 열릴 때마다 하나씩 만들어지는 객체이다. 브라우저 창 안에 존재하는 모든 요소의 최상위 객체이다. |
| Document  | 웹 문서에서 body 태그를 만나면 만들어지는 객체이다. HTML의 문서 정보를 가지고 있다. |
|  History  |   현재 창에서 사용자의 방문 기록을 저장하고 있는 객체이다.   |
| Location  |     현재 페이지에 대한 URL 정보를 가지고 있는 객체이다.      |
| Navigator |   현재 사용 중인 웹 브라우저 정보를 가지고 있는 객체이다.    |
|  Screen   |            현재 사용 중인 정보를 다루는 객체이다.            |

## 웹 브라우저를 제어하는 Window 객체

자바스크립트의 Window 객체는 웹 브라우저 창의 상태를 제어하는 객체로, 자바스크립트 객체 중 최상위이자 기본이 되는 객체이다. 즉, 자바스크립트의 모든 객체는 Window 객체에 포함된다.

#### Window 객체의 속성 알아보기

Window 객체의 몇 가지 속성을 확인해 보자.

innerWidth와 innerHeight는 웹 사이트 내용 부분의 너비와 높이를 나타내고, outerWidth와 outerHeight는 웹 브라우저의 메뉴나 도구 모음 등까지 포함된 너비와 높이를 나타낸다. 

```javascript
window.innerWidth;
window.innerHeight;
window.outerWidth;
window.outerHeight;
```

#### Window 객체의 함수 알아보기

Window 객체에서 사용할 수 있는 함수는 대화 창을 표시하거나 브라우저 창의 크기나 위치를 알아내고 지정하는 등 웹 브라우저 창 자체와 관련된 것이 대부분이다. Window 객체의 함수는 Window. 을 생략한 채 함수 이름만으로 사용할 수 있다.

##### -새 창을 여는 open() 함수

링크를 누르거나 웹 문서를 불러오자마자 자동으로 새 창이 뜨는 동작은 Window 객체의 open() 를 사용한다.  open() 함수를 사용하면 현재 창이나 새 탭, 새로운 알림 창 등 다양한 형태로 새 창을 열 수 있다. 

```java
window.open("https://www.daum.net");
```

open() 함수의 두 번째 매개변수는 새 창의 타깃(target)이나 윈도우 이름을 지정하는 부분이다. 두 번째 매개변수에 아무 값도 없이 빈 따옴표만 넣을 경우에도 역시 새 탭에 Daum 사이트가 표시된다.

```javascript
window.open("https://www.daum.net", "");
```

두 번째 매개변수 값을 "_self"로 지정하면 현재 창에서 새 창이 표시된다.

```javascript
window.open("https://www.daum.net", "_self");
```

open() 함수의 세 번째 매개변수는 알림 창으로 표시할 때의 너비나 높이, 위치 등을 지정하는 옵션이다.

```javascript
window.open("https://www.daum.net", "", "left=0, top=0, width=300, height=300");
```

##### -크기를 조절하는 resizeBy(), resizeTo() 함수

open() 함수로 열린 알림 창의 크기를 조절할 때는 resizeBy() 함수와 resizeTo() 함수를 사용한다. 

resizeBy()함수는 현재 브라우저 창의 크기를 기준으로 너비와 높이에 값을 더해준다. 즉 기존 창의 너비 값과 높이 값에 입력한 값을 각각 더해 브라우저 창의 크기를 새로 지정하는 것이다.

```javascript
let newWin = window.open("", "", "width=300, height=300");
```

알림 창의 크기를 가로로 100픽셀, 세로로 100픽셀씩 늘리려면 다음과 같이 resizeBy() 함수를 사용한다. 또한 resizeBy(-100, -100)처럼 음수를 사용하면 가로와 세로의 길이가 100픽셀씩 줄어 원래 크기로 돌아온다.

```javascript
newWin = window.resizeBy(100,100);
newWin = window.resizeBy(-100, -100);
```

resizeTo() 함수는 최종 크기를 지정한다. 즉 알림 창의 크기를 가로와 세로 각각 200픽셀로 지정하려면 다음과 같이 입력하면된다. resizeBy() 함수에서는 음수 값을 사용할 수 있지만 resizeTo() 함수에서는 음수 값을 사용할 수 없다.

```javascript
newWin.resizeTo(200,200);
```

##### -위치를 조절하는 moveBy(), moveTo() 함수

열려 있는 알림 창의 위치를 조절하고 싶다면 moveBy() 함수나 moveTo() 함수를 사용할 수 있다. moveBy() 함수와 moveTo() 함수는 모두 x 크기와 y 크기를 매개변수로 사용하는데, moveBy() 함수는 현재 위치를 기준으로 가로로 x픽셀 만큼 세로로 y픽셀 만큼 옮기지만, moveTo() 함수는 화면의 왼쪽 위 모서리를 기준으로 가로로 x 픽셀, 세로로 y픽셀 만큼 옮긴다.

```javascript
newWin.moveBy(500,500); // 현재 위치에서 가로로 500 세로로 500만큼 이동.
newWin.moveTo(0,0); // 알림창을 화면 왼쪽위로 옮긴다.
```

## 브라우저 정보가 담긴 Navigator 객체

Navigator 객체에는 웹 브라우저와 관련된 정보가 담겨 있다. 웹 브라우저 버전을 비롯해 웹 브라우저에 어떤 플러그인이 설치되어 있는지, 웹 브라우저가 온라인 상태인지 오프라인 상태인지 등 다양한 정보가 있다. 그래서 Navigator 객체를 사용하면 현재 웹 문서에 접속한 사용자가 크롬 브라우저를 사용했는지, 익스플로러를 사용했는지, 혹은 모바일로 접속했는지 등의 정보를 알 수 있다. 이런 정보를 알게 되면 프로그램을 만들 때 방문자의 접속 브라우저에 맞춘 자바스크립트를 적용할 수 있다.

## 그 밖의 브라우저 객체들

#### History 객체

History 객체에는 브라우저에서, 뒤로 혹은 앞으로 또는 주소 표시줄에 입력해서 돌아다녔던 사이트 주소가 저장되어 있다. 보안 문제 때문에 브라우저에 있는 브라우저 히스토리는 읽기 전용이다. 이 객체에서 사용할 수 있는 함수는 방문하면서 History 객체에 저장된 URL을 앞뒤로 이동하는 것이다.

#### Location 객체

Location 객체는 이름에서도 알 수 있듯이 브라우저의 주소 표시줄과 관련되어 있다. 즉 현재 문서의 URL 주소 정보를 가지고 있는데, 이 정보를 편집하면 현재 브라우저 창에 열릴 사이트나 문서를 지정할 수 있다.



